import os

def generate_hex_string(number):
    hex_str = format(number, 'x') 
    padded_hex_str = hex_str.zfill(35)
    return f"1{padded_hex_str}0000"

def checksum8(data_string):
    data = bytes.fromhex(data_string)
    total = sum(data)
    checksum = total & 0xFF
    checksum = checksum ^ 0xFF
    checksum = (checksum + 1) & 0xFF
    return checksum

number = int(input("Введіть кілометраж: "))
formatted_hex_string = generate_hex_string(number)
summ = checksum8(formatted_hex_string)
script_path=os.path.dirname(os.path.realpath(__file__))

result=f""":{formatted_hex_string}{summ:02x}
:1000100000000000008A0000000000000000000056
:1000200000000000001000000000000000000000C0
:10003000000000000000000000000000000C0000B4
:1000400000000000000000000000000000000000B0
:1000500000000000000000000000000000000000A0
:100060000000000000000000000000000000000090
:100070000000000000100000000000000000000070
:10008000000000000000000000000000000C000064
:100090000000000000000000000000000000000060
:1000A0000000000000000000000000000000000050
:1000B0000000000000000000000000000000000040
:1000C0000000000000100000000000000000000020
:1000D000000000000000000000000000000C000014
:1000E0000000000000000000000000000000000010
:1000F0000000000000000000000000000000000000
:1001000000000000000000000000000000000000EF
:1001100000000000000000000000000000000000DF
:1001200000000000000000000000000000000000CF
:1001300000000000000000000000000000000000BF
:1001400000000000000000000000000000000000AF
:10015000000000000000000000000000000000009F
:10016000000000000000000000000000000000008F
:10017000000000000000000000000000000000007F
:10018000000000000000000000000000000000006F
:10019000000000000000000000000000000000005F
:1001A000000000000000000000000000000000004F
:1001B000000000000000000000000000000000003F
:1001C000000000000000000000000000000000002F
:1001D000000000000000000000000000000000001F
:1001E000000000000000000000000000000000000F
:1001F00000000000000000000000000000000000FF
:00000001FF"""

with open('eeprom.hex', 'w') as file:
    file.write(result)

os.system(".\\avrdude -c usbasp -p m88p -U eeprom:w:eeprom.hex:i")
os.remove('eeprom.hex')

input("Готово")